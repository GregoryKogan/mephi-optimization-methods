[pandoc]
args = [
    "--pdf-engine=xelatex",                                     # Использовать XeLaTeX как PDF-движок
    "--template=templates/eisvogel-custom_mephi_titlepage.tex", # Шаблон для оформления документа
    "--listings",                                               # Включить поддержку вставки кода в документе
    # "--lua-filter=filters/strikeout.lua",  # Фильтр для зачёркивания текста
    # "--lua-filter=filters/underline.lua",  # Фильтр для подчёркивания текста
    # "--lua-filter=filters/center-images.lua", # Фильтр для центрирования изображений (не нужен, если пишете на LaTeX и вставляете картинки через него)
    # "--lua-filter=filters/word-count.lua",  # Фильтр для подсчёта слов в документе
    "--metadata-file=tmp/metadata.yaml", # Файл с метаданными
    "--bibliography=references.bib",     # Файл библиографии
    "--citeproc",                        # Включить обработку цитирований
    "--toc",                             # Включить оглавление
    "--toc-depth=2",                     # Глубина оглавления
]
src = ["main.tex"]
out-name = "example_tex.pdf"

[metadata]
title = "Название документа"
subtitle = ""
author = ["автор"]
date = "осень 2024"
lang = "ru"

[metadata.latex]
biblio-style = "ugost2008" # Стиль оформления списка источников
header-includes = '''
header-includes: |
    \usepackage{caption}
    \usepackage{sectsty}
    \sectionfont{\clearpage}
''' # Дополнительные включения в заголовок LaTeX

# Протестированные включения
# \usepackage[utf8]{inputenc} #может помочь, если проблема с распознаванием русского языка (вы сменили движок или шаблон)
# \usepackage[normalem]{ulem} #может понадобиться для caption, но в этом шаблоне эта строка уже включена
# \usepackage{caption} #пакет для подписей к рисункам
# \captionsetup[figure]{labelformat=empty}  # Настройка подписей к рисункам(выключить "рис. N:")
# \captionsetup[table]{labelformat=empty}  # Настройка подписей к таблицам(выключить "табл. N:")
# \usepackage{sectsty}  # Пакет для настройки стилей секций
# \sectionfont{\clearpage}  # Каждая секция с новой страницы
# \RedeclareSectionCommand[
#   beforeskip=-10pt plus -2pt minus -1pt,
#     afterskip=1sp plus -1sp minus 1sp]{paragraph}  # Настройка отступов параграфов
# \RedeclareSectionCommand[
#     beforeskip=-10pt plus -2pt minus -1pt,
#     afterskip=1sp plus -1sp minus 1sp,
#     indent=0pt]{subparagraph}  # Настройка отступов подпараграфов
# \exhyphenpenalty=10000 #запрет переноса строк для верстальщика. Отключение этих двух строк помогает, если в блоках кода слишком длинные строки не переносятся.
# \hyphenpenalty=10000 #

[metadata.title-page]
title-page = true # Включить титульную страницу
# background = "titlepage.pdf"  # Фон для титульной страницы
# logo = "logo.jpeg"  # Логотип для титульной страницы
# logo-width = "35mm"  # Ширина логотипа
rule-height = -1 # Высота линии на титульной странице

[metadata.format]
geometry = "left=2cm, right=2cm, top=2cm, bottom=2cm, footskip=5cm" # Поля страницы
papersize = "a4"                                                    # Размер бумаги
linkcolor = "NavyBlue"                                              # Цвет ссылок
toc-own-page = true                                                 # Оглавление на отдельной странице
listings-no-page-break = true                                       # Запрет разрыва страниц в блоках кода
caption-justification = "centering"                                 # Выравнивание подписей к рисункам или таблицам по центру
footnotes-pretty = false                                            # Настройка сносок
book = true                                                         # Книжный формат
disable-header-and-footer = false                                   # Включить заголовки и колонтитулы
block-headings = true                                               # Заголовки блоков

[metadata.format.header]
right = '\rightmark' # Правый заголовок: текущий раздел
left = '\thepage'    # Левый заголовок: номер страницы

[metadata.format.footer]
left = '\\\ '  # Левый колонтитул: пустой
right = '\\\ ' # Правый колонтитул: пустой
